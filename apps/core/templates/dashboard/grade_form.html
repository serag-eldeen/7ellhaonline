{% extends "base.html" %}

{% block title %}{% if object %}Edit Grade{% else %}Add New Grade{% endif %}{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto bg-white rounded-2xl shadow-lg p-6 sm:p-8">
    <div class="flex items-center mb-6">
        <div class="flex-shrink-0 bg-brand-light-blue text-white h-10 w-10 rounded-lg flex items-center justify-center">
            {% if object %}
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" /></svg>
            {% else %}
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
            {% endif %}
        </div>
        <h1 class="text-2xl sm:text-3xl font-bold text-gray-800 ml-4">
            {% if object %}
                Edit Grade
            {% else %}
                Add a New Grade
            {% endif %}
        </h1>
    </div>

    <form method="post" novalidate>
        {% csrf_token %}
        <div class="space-y-5">
            <div>
                <label for="id_name" class="text-sm font-semibold text-gray-700 block mb-1">Grade Name</label>
                <input type="text" name="name" id="id_name" value="{{ form.name.value|default_if_none:'' }}" 
                       class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light-blue transition {% if form.name.errors %}border-red-500{% endif %}" required>
                {% for error in form.name.errors %}
                    <div class="flex items-center text-red-600 text-xs mt-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>
                        {{ error }}
                    </div>
                {% endfor %}
            </div>
            <div>
                <label for="id_description" class="text-sm font-semibold text-gray-700 block mb-1">Description (Optional)</label>
                <textarea name="description" id="id_description" rows="4"
                          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-light-blue transition {% if form.description.errors %}border-red-500{% endif %}">{{ form.description.value|default_if_none:'' }}</textarea>
                {% for error in form.description.errors %}
                    <div class="flex items-center text-red-600 text-xs mt-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" /></svg>
                        {{ error }}
                    </div>
                {% endfor %}
            </div>
        </div>
        
        <div class="mt-8 flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-4">
            <a href="{% url 'dashboard:grade_list' %}" class="mt-2 sm:mt-0 w-full sm:w-auto text-center px-6 py-2.5 bg-gray-100 text-gray-700 font-semibold rounded-lg hover:bg-gray-200 transition">
                Cancel
            </a>
            <button type="submit" class="w-full sm:w-auto px-6 py-2.5 bg-brand-light-blue text-white font-bold rounded-lg hover:bg-opacity-90 transition">
                Save Grade
            </button>
        </div>
    </form>
</div>
{% endblock %}